[
["index.html", "農業統計資料庫說明文件 農業統計資料庫說明文件 專案初始化 製作流程 git page設定", " 農業統計資料庫說明文件 SzuWei Chen 2018年5月30日 農業統計資料庫說明文件 成果網址 本專案是從102年的「農業雲端服務建置計畫」中提出，研擬串聯人、地、物等農業統計資料，作為補貼或農業統計調查之勾稽依據。 本文件是以R開發，使用bookdown與rmarkdown完成動態的gitbook編寫，並使用gitpages架在gitgub上，作為日後統一的資料庫文件。 專案初始化 #1. install R &amp; R-Studio R: https://cran.r-project.org/ RStudio: https://www.rstudio.com/products/rstudio/download/ #2. 在RStudio新建一個專案 #3. clone from github 在cmd模式下移動到你本機的專案路徑後，使用git指令 git clone https://github.com/COAStatistics/agridb.git #4. install and require the packages: bookdown, rmarkdown. install.packages(&quot;bookdown&quot;) install.packages(&quot;rmarkdown&quot;) library(bookdown) library(rmarkdown) 製作流程 編輯.Rmd檔 編輯完成後按Ctrl + B，bookdown套件會把所有.Rmd檔轉成HTML 在專案路徑底下建立docs資料夾，並把.../_book資料夾底下的所有文件複製到docs內，如此才可使用git pages呈現 mkdir docs # create docs folder to host html file. ROBOCOPY “d:/work/02-DB/00DB_book/_book&quot; “d:/work/02-DB/00DB_book/docs” /MIR /COPYALL /IS # copy all file into /docs git page設定 教學網址 連結 網站根目錄： /docs 查詢git log，並以簡寫描述commit ID git log --abbrev-commit -- find the current commit with abbreviation code. "],
["section-1.html", "1 前言", " 1 前言 索取的資料皆為去年之資料。 比如現在是2018(107)年，那麼索取的都是去年2017(106)年的資料。 這邊列出所有的資料庫 資料庫中文名 資料庫英文名 第幾頁 休耕轉作 DCL+RCD 1 小大 small &amp; big 2 航照稻作 aerial_graphic 3 "],
["section-2.html", "2 休耕轉作資料庫 2.1 背景說明 2.2 資料欄位 2.3 資料處理過程", " 2 休耕轉作資料庫 2.1 背景說明 102年推出休耕地活化計畫，鼓勵農民不要休耕、多種植進口替代作物，希望能增加糧食自給率、活化農地、增加產值、創造就業等目標。 政策重點 休耕轉作資料庫包含：申報檔(DCL)、核定檔(RCD)、補貼清冊檔(transferSubsidy)、所有權人檔(LAND) 所有權人檔(LAND)目前沒有使用，但還是有納入資料庫中。 轉契作、休耕補貼標準 政策流程：農民向鄉鎮公所提出申請(申報檔) -&gt; 農糧署審核 -&gt; 審核完成，產出核定檔(RCD)與轉作補貼檔(transferSubsidy)。 Q: 申報檔(DCL)內有核定欄位，核定檔(RCD)內也有核定欄位，主力農家為何不用RCD檔內的核定欄位呢？ A: 因為每年(假設為X年)的10月開始製作主力農家公務資料時，只有到X年10月的申報檔，核定檔與補貼檔還是去年(X-1)的，因此會使用X年的申報檔作為公務資料。 2.2 資料欄位 檔案位置：Z:\\03-調查統計科\\001_農業統計整合資料庫\\001_農業統計整合資料庫\\01--休耕、耕鋤、災害\\原始資料\\休耕轉作\\ DCL申報檔 LAND RCD 代碼對照表 2.2.1 休耕轉作申報檔(DCL) 歷年schema 欄位-中文 欄位-英文 欄位屬性 定義 年 RCDYY 期 RCDSS 地段代碼 landNo7 地號 landNo8 地目 RCDNO5 副地號 RCDNO7 農民身份證 appID 所有權人身份證 ownerID 轉作作物1 cropCode1 轉作作物2 cropCode2 轉作作物3 cropCode3 轉作面積1 cropArea1 轉作面積2 cropArea2 轉作面積3 cropArea3 是否稻作 riceCode 稻作面積 riceArea 檢驗結果(1:合格 0:不合格) RESULT 處別代碼 PT_ID 鄉鎮代碼 EID 有機作物1 orgCode1 有機作物2 orgCode2 有機作物3 orgCode3 是否租賃 RENT 2.2.2 休耕轉作核定檔(RCD) 歷年schema 欄位-中文 欄位-英文 欄位屬性 定義 年 RCDYY 期 RCDSS 地段代碼 landNo7 地號 landNo8 地目 RCDNO5 副地號 RCDNO7 農民身份證 appID 所有權人身份證 ownerID 轉作作物1 cropCode1 轉作作物2 cropCode2 轉作作物3 cropCode3 轉作面積1 cropArea1 轉作面積2 cropArea2 轉作面積3 cropArea3 是否稻作 riceCode 稻作面積 riceArea 檢驗結果(1:合格 0:不合格) RESULT 處別代碼 PT_ID 鄉鎮代碼 EID 有機作物1 orgCode1 有機作物2 orgCode2 有機作物3 orgCode3 是否租賃 RENT 2.2.3 休耕轉作補貼清冊檔(transferSubsidy) 歷年schema 欄位-中文 欄位-英文 欄位屬性 定義 身分證字號 appID 身分證字號 作物類別 RTYPE 需對應ReferenceDB 作物面積 AREA 公頃 補貼金額 AMT 根據類別與面積核定 未知1 PT_ID 未知2 EID 年度 SYY 民國年 期作別 SPP 未知3 SPECIALCRO 未知4 CROPGOWSU 資料庫清單 1011RCD: 民國101年1期的核定檔。 1012RCD: 民國101年2期的核定檔。 101LAND: 民國101年的所有權人檔。 1021DCL: 民國101年1期的申報檔。 1021RCD: 民國102年1期的核定檔。 1022DCL: 民國101年1期的申報檔。 1022RCD: 民國101年2期的核定檔。 102LAND: 民國102年的所有權人檔。 102transferSubsidy: 民國102年的轉作補貼。 1031DCL: 民國103年1期的申報檔。 1031RCD: 民國103年1期的核定檔。 1032DCL: 民國103年2期的申報檔。 1032RCD: 民國103年2期的核定檔。 103Land: 民國103年的所有權人檔案。 103transferSubsidy: 民國103年的轉作補貼。 1041DCL: 民國104年1期的申報檔。 1041RCD: 民國104年1期的核定檔。 1042DCL: 民國104年2期的申報檔。 1042RCD: 民國104年2期的核定檔。 104Land: 民國104年的所有權人檔案。 104transferSubsidy: 民國104年的轉作補貼。 1051DCL_after_cleansing: 將1051DCL清洗(縣市名稱、欄位長度等)，清洗步驟請見 連結。 1051DCL_farmerSurvey: 將1051DCL_after_cleansing進行處理，供主力農家使用 連結。 105Land: 民國105年的所有權人檔案。 105transferSubsidy_farmerSurvey: 民國105年主力農家所得調查之轉作補貼檔。 105RCD: 民國105年1期+2期的核定檔。 105RD_name: 作物代碼表(105年)。 106DCL_farmerSurvey: 民國106年1+2期的申報檔，主力農家所用。 106transferSubsidy: 民國106年1+2期的轉貼檔(清除無效ID)。 106RCD_cleaning: 民國106年1期+2期的核定檔(清除無效的appID, ownerID以及landNo8)。 cropCode: 作物代碼表(106年起)。 raw_105DCL: 民國105年1+2期的申報檔(原始檔)。 raw_105transferSubsidy: 民國105年的1+2期轉作補貼(原始檔) raw_105RCD: 民國105年1期+2期的核定檔(原始檔)。 raw_1061transferSubsidy: 民國106年1期的轉作補貼(原始檔)。 raw_1062transferSubsidy: 民國106年2期的轉作補貼(原始檔)。 raw_106DCL: 民國106年1+2期的申報檔(原始檔)。 raw_106RCD: 民國105年1期+2期的核定檔(原始檔)。 raw_106transferSubsidy: 民國106年1+2期的轉作補貼(原始檔)。 2.3 資料處理過程 "],
["-aerial-graphic.html", "3 航照稻作辨識 (aerial_graphic) 3.1 背景說明 3.2 資料欄位 3.3 資料處理過程", " 3 航照稻作辨識 (aerial_graphic) 3.1 背景說明 資料庫設置目的 此資料庫中，每一列資料皆為判識為水稻的地段地號。 聯絡窗口：農糧署利沛燕專員。 3.2 資料欄位 檔案位置：Z:\\03-調查統計科\\001_農業統計整合資料庫\\001_農業統計整合資料庫\\01--休耕、耕鋤、災害\\原始資料\\航照稻作圖資轉文字檔\\，注意有分1、2期 注意事項：地號為R之河川地，需特別處理 歷年schema 欄位-中文 欄位-英文 欄位屬性 定義 航測面積 AREA float 面積(平方公尺) 糧食碼 RICE_CODE varchar(6) 以前的糧食局時代縣市碼+地段碼 內政碼 MOI_CODE varchar(7) 縣市碼+鄉鎮碼+地段碼 地目 LNDNO5 char(1) 田、林、旱、牧、建…等 地號 LNDNO4 varchar(6) 地號，R開頭為河川地，需另外轉換 水稻 RICD char(1) 1為航照判識為水稻，3為現場調查結果為水稻 KEYNO landNo varchar(15) 15碼代碼，需轉為14碼農委會標準碼 圖號 PIC_NO char(8) 農航所依據拍攝範圍發布的1/5000地理資訊 年度 SYY char(3) 民國年 期別 SPP char(1) 期作別 資料庫清單 newRICE1021: 將102年1期是河川地轉換完成並新增一欄為newKEYNO newRICE1031: 將103年1期是河川地轉換完成並新增一欄為newKEYNO newRICE1032: 將103年2期是河川地轉換完成並新增一欄為newKEYNO raw_RICE105: 105年1期與2期原始資料 raw_RICE106: 106年1期與2期原始資料 RICE1021: 102年1期原始資料 RICE1022: 102年2期原始資料 RICE1031: 103年1期原始資料 RICE1031_code: 繪製103年1期稻米生產分布圖的14/15碼地籍轉換 RICE1032: 103年2期原始資料 RICE1032_code: 繪製103年2期稻米生產分布圖的14/15碼地籍轉換 RICE1041: 104年1期原始資料 RICE1042: 104年2期原始資料 RicePda103_: 不知道是什麼 3.3 資料處理過程 R套件匯入 setwd(&quot;Z:\\\\03-調查統計科\\\\001_農業統計整合資料庫\\\\001_農業統計整合資料庫\\\\01--休耕、耕鋤、災害\\\\原始資料\\\\航照稻作圖資轉文字檔\\\\106年&quot;) library(tidyverse) library(readxl) # under tidyverse. library(prettydoc) # for beautiful markdown doc. 資料處理 p1 &lt;- read_excel(&quot;1061rice_文數字.xlsx&quot;) # import first period data. p2 &lt;- read_excel(&quot;1062rice_文數字.xlsx&quot;) # import second period data. pf &lt;- rbind(p1, p2) # combine the 2 period data. names(pf) &lt;- c(&quot;AREA&quot;, &quot;RICE_CODE&quot;, &quot;MOI_CODE&quot;, &quot;LNDNO5&quot;, &quot;LNDNO4&quot;, &quot;RICD&quot;, &quot;landNo&quot;, &quot;PIC_NO&quot;, &quot;SYY&quot;, &quot;SPP&quot;) # follow the schema. write.table(pf, &quot;raw_RICE106.txt&quot;, sep=&quot;,&quot;, row.names=F, quote=FALSE) # import into SQL(aerial_graphic.dbo.raw_RICE106) "],
["section-4.html", "4 敏感性作物調查 4.1 背景說明 4.2 資料欄位 4.3 資料處理過程", " 4 敏感性作物調查 4.1 背景說明 資料庫設置目的 歷年調查品項 聯絡窗口：農糧署劉彥彤技佐。 資料索取：逢甲楊老師 4.2 資料欄位 檔案位置：Z:\\03-調查統計科\\001_農業統計整合資料庫\\001_農業統計整合資料庫\\01--休耕、耕鋤、災害\\原始資料\\清冊檔\\pdadecl(敏感性作物+全鄉性調查)\\ 4.2.1 歷年Schema 欄位-中文 欄位-英文 欄位屬性 定義 土地座落 landNo varchar(16) 15碼地段地號 面積 DCL_CHGA1 float 公頃 作物代碼 DCL_CHGCD1 char(3) 可參照phstemp_code，轉換為中文 分子 NUM numeric(18,0) 分母 DENO numeric(18,0) 勘查日期 UPDATE char(8) 處別代碼 PT_ID char(2) 鄉鎮代碼 EID char(4) 變更使用面積 LNDCHRA float 公頃 土地面積 LNDARA float 公頃 狀況 STATUS char(2) 0與NA 河川地註記 DCL_LNDTYPE varchar(2) 見下方說明 作物生長期 DCL_BRTYP varchar(2) 見下方說明 保留1 DCL_TRTYP varchar(50) 保留2 DCL_TRDATE varchar(50) 異動時間 UPDTIME varchar(50) 土地使用區分 土地使用區分 varchar(50) 無使用 編定使用種類 編定使用種類 varchar(50) 無使用 4.2.2 河川地註記 代碼 定義 1 地籍 2 河川地 4.2.3 作物生長期 代碼 定義 1 定植期 2 蓮坐期 3 豎立期 4 結球期 5 已採收 6 待判 4.2.4 資料庫清單 101pdadecl: 101年資料 102PDA: 102年不完整資料 103pda_newRD1: 102年完整資料 103pdadecl: 103年資料 104pdadecl: 104年資料 105pdadecl: 105年處理資料(移除地段地號為16碼且中間有R的、排除地段地號不為15碼的資料) raw_105pdadecl: 105年原始資料 raw_106pdadecl: 106年原始資料 4.3 資料處理過程 1.R套件匯入 setwd(&quot;Z:\\\\03-調查統計科\\\\001_農業統計整合資料庫\\\\001_農業統計整合資料庫\\\\01--休耕、耕鋤、災害\\\\原始資料\\\\清冊檔\\\\pdadecl(敏感性作物+全鄉性調查)\\\\106&quot;) library(tidyverse) library(prettydoc) # for beautiful markdown doc. library(readxl) # under tidyverse. library(tidyverse) 資料處理 file &lt;- read_excel(&quot;6敏感作物備份106年.xlsx&quot;) # use readr package under tidyverse dim(file) # rows: 73089 columns: 18 names(file) &lt;- c(&quot;landNo&quot;, &quot;DCL_CHGA1&quot;, &quot;DCL_CHGCD1&quot;, &quot;NUM&quot;, &quot;DENO&quot;, &quot;UPDATE&quot;, &quot;PT_ID&quot;, &quot;EID&quot;, &quot;LNDCHRA&quot;, &quot;LNDARA&quot;, &quot;STATUS&quot;, &quot;DCL_LNDTYPE&quot;, &quot;DCL_BRTYP&quot;, &quot;DCL_TRTYP&quot;, &quot;DCL_TRDATE&quot;, &quot;UPDTIME&quot;, &quot;土地使用區分&quot;, &quot;編定使用種類&quot;) # follow schema. file2 &lt;- file[-which(nchar(file$landNo) !=15),] # remove landNo = M080040808960044 write.table(file2, &quot;raw_106pdadecl.txt&quot;, sep=&quot;,&quot;, row.names=F, quote=FALSE) # import into SQL(sensitive.dbo.raw_106pdadecl) "],
["section-5.html", "5 天然災害現金救助 5.1 背景說明 5.2 資料欄位 5.3 資料處理過程", " 5 天然災害現金救助 5.1 背景說明 依據農業發展條例第60條第2項規定，天然災害補貼辦法包含現金救助、補助(保險)與低利貸款三種 本室只負責索取現金救助的部分 本業務由農糧署白旭凱專員負責 5.2 資料欄位 檔案位置：Z:\\03-調查統計科\\001_農業統計整合資料庫\\001_農業統計整合資料庫\\01--休耕、耕鋤、災害\\原始資料\\天然災害\\106年天然災害救助明細\\原始資料 注意事項 本資料每年會索取兩次，一次是索取至A年10月之資料(給主力農家使用)，一次是A+1年的3月時，索取A年的全年度資料(資料庫入庫用) 需清理所有權人ID與地號，確保資料正確性 歷年Schema 欄位-中文 欄位-英文 欄位屬性 定義 年度 year char(3) 民國年 災害名稱 evt_name nvarchar(50) 災害名稱 發生日期 dateTime varchar(50) 災害發生日期 縣市 county nvarchar(6) 縣市 鄉鎮 town nvarchar(8) 鄉鎮 農戶姓名 ownerName nvarchar(50) 所有權人姓名 身份證號 ownerID char(10) 所有權人身分證 地址 addr text 地址 地段 landNo7 varchar(7) 地段(7碼) 地段中文 landNo7CHN nvarchar(50) 地段中文 地號 landNo8 varchar(9) 地號 本筆面積 landArea float 單位是公頃 權利面積 landRightsArea float 單位是公頃 申請者 appName nvarchar(50) 實際耕作者/申請者 申請作物 applyCrop nvarchar(50) 申請作物 申請面積 applyArea float 單位是公頃 申請受害率 applyDamageRate varchar(50) 百分比 核定結果 approveCheck nvarchar(50) 符合；不符 核定作物 approveCrop nvarchar(50) 核定作物 核定面積 approveArea float 單位是公頃 核定受害率 approveDamageRate nvarchar(50) 百分比 補助方式 subsidyType nvarchar(50) 現金救助 救助單價(元) subsidyStandard float 依據現金救助標準給定 核定救助金額(元) subsidyAmount float 救助單價 * 核定面積 資料庫清單 101acdList: 101年天然災害現金救助明細 102acdList: 102年天然災害現金救助明細 103acdList: 103年天然災害現金救助明細 104acdList: 104年天然災害現金救助明細 105acdList: 105年天然災害現金救助明細 105acdList_farmerSurvey: 105年整理過的天然災害現金救助明細，方便主力農家調查使用 106acdList: 106年天然災害現金救助明細 raw_acdlist106: 106年天然災害現金救助明細原始資料 5.3 資料處理過程 匯入 rm(list=ls()) library(tidyverse) library(readxl) # under tidyverse. library(prettydoc) # for beautiful markdown doc. setwd(&quot;Z:\\\\03-調查統計科\\\\001_農業統計整合資料庫\\\\001_農業統計整合資料庫\\\\01--休耕、耕鋤、災害\\\\原始資料\\\\天然災害\\\\106年天然災害救助明細\\\\原始資料&quot;) acd &lt;- read.csv(&quot;acdAllList106.txt&quot;, header=F) colname &lt;- c(&#39;year&#39;, &#39;evt_name&#39;, &#39;dateTime&#39;,&#39;county&#39;, &#39;town&#39;, &#39;ownerName&#39;, &#39;ownerID&#39;, &#39;addr&#39;, &#39;landNo7&#39;, &#39;landNo7CHN&#39;, &#39;landNo8&#39;, &#39;landArea&#39;, &#39;landRightsArea&#39;, &quot;appName&quot;, &#39;applyCrop&#39;, &#39;applyArea&#39;, &#39;applyDamageRate&#39;, &#39;approveCheck&#39;, &#39;approveCrop&#39;, &#39;approveArea&#39;, &#39;approveDamageRate&#39;, &#39;subsidyType&#39;, &#39;subsidyStandard&#39;, &#39;subsidyAmount&#39;) names(acd) &lt;- colname 檢查欄位最大長度 注意：下列函數必須讓資料為tibble格式才可運作 acd &lt;- as_tibble(acd) index &lt;- 1 max_nchar &lt;- function(x) {max(nchar(x))} for (i in 1:dim(acd)[2]) { temp &lt;- acd[,i] temp &lt;- apply(temp, 2, max_nchar) if (index == 1) { table_nchar &lt;- temp index &lt;- 0 } else table_nchar &lt;- c(table_nchar, temp) } table_nchar 資料輸出 setwd(&quot;Z:\\\\03-調查統計科\\\\001_農業統計整合資料庫\\\\001_農業統計整合資料庫\\\\01--休耕、耕鋤、災害\\\\原始資料\\\\天然災害\\\\106年天然災害救助明細&quot;) write.table(acd, &quot;raw_acdList106.txt&quot;, row.names=F, sep=&quot;\\t&quot;, quote=F) "],
["paddy-procurement.html", "6 稻穀收購清冊(paddy procurement) 6.1 背景說明 6.2 資料欄位 6.3 資料處理過程", " 6 稻穀收購清冊(paddy procurement) 6.1 背景說明 106年起實施「對地綠色環境給付計畫」，明定稻農可申請保價收購或稻作直接給付。 本資料庫為紀錄公糧保價收購之資料，保價收購有計畫收購(21元/公斤)、輔導收購(18元/公斤)、餘糧收購(16.6元/公斤)三種，詳細說明請點這裡 負責廠商：逢甲大學楊老師 6.2 資料欄位 欄位-中文 欄位-英文 欄位屬性 定義 年度 SYY char(3) 期別 SPP char(1) 繳穀地代號 PH_LOCCODE char(4) 繳穀地縣市 PT_ID char(3) 繳穀地鄉鎮 EID varchar(6) 繳穀地 PH_PLACE varchar(17) 農戶檔號 PH_PSTNO varchar(9) 農戶證號 appID char(10) 主鍵：身分證字號 收購日期 PH_DTA char(7) 收購時間 PH_TIME char(4) 含車重 PH_WAMT numeric 空車重 PH_WDCMT numeric 計畫濕穀收購 PH_RMT11 numeric 單位：公斤 計畫乾穀收購 PH_RMT12 numeric 單位：公斤 輔導濕穀收購 PH_RMT31 numeric 單位：公斤 輔導乾穀收購 PH_RMT32 numeric 單位：公斤 餘糧濕穀收購 PH_RMT41 numeric 單位：公斤 餘糧乾穀收購 PH_RMT42 numeric 單位：公斤 良質米濕穀收購 PH_AMT51 numeric 單位：公斤 良質米乾穀收購 PH_AMT52 numeric 單位：公斤 自營糧濕穀收購 PH_AMT71 numeric 單位：公斤 自營糧乾穀收購 PH_AMT72 numeric 單位：公斤 濕穀寄倉 PH_AM1 numeric 乾穀寄倉 PH_AM2 numeric 聯單編號 PH_SEQNO numeric 收購次數 PH_SEQTM numeric 稻穀類型 PH_KIND char(2) 補助款 PH_HTOT numeric 應付款 PH_DTOT numeric 實存金額 PH_MONEY numeric 自營價款 PH_SMONEY numeric 公糧烘乾費 PH_DRYM numeric 自營烘乾費 PH_SDRYM numeric 含水率 PH_RATE numeric 自營扣款 PH_SDCNT numeric 農會補助費 PH_HLPF numeric 包袋費 PH_PCKF numeric 代扣運費 PH_TRSF numeric 包袋費扣項 PH_OTHF numeric 進倉補助費 PH_STOF numeric 補助運費 PH_HTRSF numeric 入倉裝袋費 PH_PSTOF numeric 自營稻穀單價 PH_GO71 numeric 溢繳稻穀價差 PH_DED1 numeric 計畫收購金額 PH_RMT12_MONEY numeric 26元/公斤(乾穀) 輔導收購金額 PH_RMT32_MONEY numeric 23元/公斤(乾穀) 餘糧收購金額 PH_RMT42_MONEY numeric 21.6元/公斤(乾穀) 建立人 CREATEID char(11) 建立日期 CREATETIME smalldatetime 異動人 UPDID char(11) 異動日期 UPDTIME smalldatetime 歷年Schema 連結 資料庫清單 1021phsamt 1022phsamt 1031phsamt 1032phsamt 1041phsamt 1041phsamt_phsamt_corn 1042phsamt 1050926 raw_105phsamt raw_106phsamt 6.3 資料處理過程 匯入 #rm(list=ls()) setwd(&quot;Z:\\\\03-調查統計科\\\\001_農業統計整合資料庫\\\\001_農業統計整合資料庫\\\\01--休耕、耕鋤、災害\\\\原始資料\\\\收購\\\\106PHSAMT&quot;) library(tidyverse) library(readxl) # under tidyverse. library(prettydoc) # for beautiful markdown doc. p1 &lt;- read_excel(&quot;106年1期收購檔備份.xlsx&quot;) p2 &lt;- read_excel(&quot;106年2期收購檔備份.xlsx&quot;) pf &lt;- rbind(p1, p2) names(pf) &lt;- c(&quot;SYY&quot;, &quot;SPP&quot;, &quot;PH_LOCCODE&quot;, &quot;PT_ID&quot;, &quot;EID&quot;, &quot;PH_PLACE&quot;, &quot;PH_PSTNO&quot;, &quot;appID&quot;, &quot;PH_DTA&quot;, &quot;PH_TIME&quot;, &quot;PH_WAMT&quot;, &quot;PH_CMT&quot;, &quot;PH_RMT11&quot;, &quot;PH_RMT12&quot;, &quot;PH_RMT31&quot;, &quot;PH_RMT32&quot;, &quot;PH_RMT41&quot;, &quot;PH_RMT42&quot;, &quot;PH_AMT51&quot;, &quot;PH_AMT52&quot;, &quot;PH_AMT71&quot;, &quot;PH_AMT72&quot;, &quot;PH_AM1&quot;, &quot;PH_AM2&quot;, &quot;PH_SEQNO&quot;, &quot;PH_SEQTM&quot;, &quot;PH_KIND&quot;, &quot;PH_HTOT&quot;, &quot;PH_DTOT&quot;, &quot;PH_MONEY&quot;, &quot;PH_SMONEY&quot;, &quot;PH_DRYM&quot;, &quot;PH_SDRYM&quot;, &quot;PH_RATE&quot;, &quot;PH_SDCNT&quot;, &quot;PH_HLPF&quot;, &quot;PH_PCKF&quot;, &quot;PH_TRSF&quot;, &quot;PH_OTHF&quot;, &quot;PH_STOF&quot;, &quot;PH_HTRSF&quot;, &quot;PH_PSTOF&quot;, &quot;PH_GO71&quot;, &quot;PH_DED1&quot;, &quot;PH_RMT12_MONEY&quot;, &quot;PH_RMT32_MONEY&quot;, &quot;PH_RMT42_MONEY&quot;, &quot;CREATEID&quot;, &quot;CREATETIME&quot;, &quot;UPDID&quot;, &quot;UPDTIME&quot;) # PH_LOCCODE：繳穀地代號 → 自行命名 # PH_PLACE：繳穀地 → 自行命名 # PH_WDCMT: 對照最原始的schema只對的到濕穀空車重與乾穀空車重，省略為PH_CMT → 自行命名 檢查欄位最大長度 index &lt;- 1 max_nchar &lt;- function(x) {max(nchar(x))} for (i in 1:dim(pf)[2]) { temp &lt;- pf[,i] temp &lt;- apply(temp, 2, max_nchar) if (index == 1) { table_nchar &lt;- temp index &lt;- 0 } else table_nchar &lt;- c(table_nchar, temp) } table_nchar 資料輸出 write.table(pf, &quot;raw_106phsamt.txt&quot;, sep = &quot;,&quot;, row.names = F, quote = FALSE) "],
["-small-big.html", "7 小地主大專業農 (small &amp; big) 7.1 背景說明 7.2 資料欄位 7.3 資料處理過程", " 7 小地主大專業農 (small &amp; big) 7.1 背景說明 資料庫設置目的 台灣平均農家耕地面積約1.1公頃，主要農民年齡平均62歲，為活化農曆利用，加速農業轉型升級，提升競爭力，推動小地主大專業農政策，鼓勵無力耕作之資深農民或無暇耕作之兼業農友，將自有農地出租給有意願擴大農場經營規模之農業經營者，並獎勵年輕專業農民或農民團體承租農地種植具進口替代或出口擴張之農作物，促進農業勞動結構年輕化，擴大農業經營規模，並使老農安心享受離農或推修生活。 小地主大專業農，包含有5張表： 小地主出租給付 小地主離農獎勵 租用農地改善補貼 承租人資料 大專業農轉契作補貼 資料格式：年分+新資料表名稱 舊資料表名稱(英文) 新資料表名稱(英文) 資料表中文 資料表定義 r_pay landlordRent 小地主出租給付 給地主的出租給付 r_paya landlordRetire 離農獎勵 給地主的離農獎勵 r_rent tenantFallowRent 租用農地改善補貼 給佃農的租用連續休耕地改善補貼 rent tenantList 承租人資料 承租人資料 r_farm_temp tenantTransfer 大佃農轉契作補貼 給佃農的轉契作補貼 聯絡窗口：農糧署張乃文技正。 資料索取：逢甲楊老師。 7.2 資料欄位 檔案位置：Z:\\03-調查統計科\\001_農業統計整合資料庫\\001_農業統計整合資料庫\\01--休耕、耕鋤、災害\\原始資料\\小大\\。 7.2.1 歷年schema 小地主出租給付(landlordRent) 欄位-中文 欄位-英文 欄位屬性 定義 年度 year char(3) 大佃農身分證號 期別 period char(1) 可與fallow.dbo.cropCode參照 地主身分證字號 ownerID char(10) 合約類型 compute_0004 varchar(3) 參見合約類型 承租人應付 tenantPay int 金額 政府應付 govPay int 金額 處別 eid char(2) 鄉鎮 country char(4) 出租面積 area float 公頃 離農獎勵(landlordRetire) 欄位-中文 欄位-英文 欄位屬性 定義 年度 year char(3) 大佃農身分證號 期別 period char(1) 可與fallow.dbo.cropCode參照 地主身分證字號 ownerID char(10) 公頃 合約類型 compute_0004 varchar(3) 參見合約類型 承租人應付 tenantPay int 金額 政府應付 govPay int 金額 處別 char(2) 鄉鎮 char(4) 出租面積 area float 全部是N，表示都不是特殊期 次數 全都是null 合約類型 租用農地改善補貼(tenantFallowRent) 欄位-中文 欄位-英文 欄位屬性 定義 大佃農證號 appID char(10) 大佃農身分證號 地段 landNo7 7碼地段 地號 landNo8 8碼地號 土地所有權人證號 ownerID 承租面積 rarea 公頃 租期 ryear 處別 eid 鄉鎮 country 租金/年 rprice 一期作物 cropCodeP1 作物代碼 二期作物 cropCodeP2 作物代碼 首次簽約日 ddate 合格/不合格 pass 原因 reason 繳交倉庫 bamCode 4碼倉庫代碼 結束年 endYear 結束期 endPeriod 轉申報次數 transferTimes 是否綠肥 manure A=本期種綠肥; S=本期停灌; 空白=本期非綠肥 開始年期 startYearPeriod 懲處 penalty 經營規模 scaleType 基本門檻、擴大承租、擴大經營 土地來源 landSource 關係 relationship 詢問廠商得知此欄位已不再使用 連續休耕 continuousFallow 1=連續休耕; 2=一般地 農地改善 landImprovement Y=已領; A=有; N=無 契約啟始年期 contractStart 詢問廠商得知此欄位已不再使用 一期契約 contractP1 varchar(12) 數值(月) 一期有機 organicP1 二期有機 organicP2 二期契約 contractP2 varchar(12) 數值(月) 土地所有權人 ownerName 所有權人地址 ownerAddress 所有權人銀行別 ownerBank 所有權人存款帳號 ownerAccount 所有權人存款帳號姓名 ownerAccountName 所有權人電話 ownerPhone 帳號單位 rpstid 本行/他行 pstunt 存歿 survive Y=存; 0/NULL皆為歿 資格起算 qualifyDate dup dup 詢問廠商得知此欄位已不再使用 備註 note 輔導到期日 dueDate 地目 landCategory 田、河川、旱、其他…等 使用分區 landType1 特定農業區、農牧用地、水利用地…等代碼 使用地類別 landType2 特定農業區、農牧用地、水利用地…等代碼 建立人 creater 建立日期 createDate 最後異動人 updater 最後異動時間 updateDate 原土地檔證號 landCertifyNo 承租人資料(tenantList) 欄位-中文 欄位-英文 欄位屬性 定義 承租人姓名 appName 通訊地址 pstadr 聯絡電話 psttel 戶籍地址 prmadr 檔號 pstno 承租人證號 appID 地段代碼 lndNo7 地號 lndNo8 所有權人證號 ownerID 承租面積 rarea 公頃 租期 ryear 證號 eid 租金/年 rprice 一期契約種類 choice 申報一期作物 dcl_chgcd1 核定一期作物 chgcd1 二期契約種類 choice2 申報二期作物 dcl_chgcd2 核定二期作物 chgcd11 合格/不合格 pass 年度 syy 期別 spp 開始年期 yypp 所有權人姓名 ownerName 所有權人地址 ritadr 承租人生日 birthday 土地使用分區 lndhow 特定農業區、農牧用地、水利用地…等代碼 使用地類別 lndtype 特定農業區、農牧用地、水利用地…等代碼 大佃農轉契作補貼(tenantTransfer) 欄位-中文 欄位-英文 欄位屬性 定義 大佃農身分證號 appID char(10) 大佃農身分證號 作物大類 cropCodeBig char(1) 可與fallow.dbo.cropCode參照 承租面積 area float 公頃 補貼金額 subsidy float 金額 處別 eid char(2) 鄉鎮 country char(4) 年度 year char(3) 期別 period char(1) 是否為特殊期 specialCrop char(1) 全部是N，表示都不是特殊期 7.2.2 資料庫清單 102FBank_Land 102FBank_Member 102FBank_Platform 102rent 1031rent_Y1 103FSBresult 103r_farm_temp 103r_pay 103r_paya 103r_rent 103rent 103rent_ch 103SBresult_ID 1040428FBank_Platform 104FBank_Land 104FBank_Member 104FBank_Platform 104FSBresult 104r_farm_temp 104r_pay 104r_paya 104r_rent 104rent 104rent_temp 105FSBresult: 105整合結果 105r_farm_temp 105r_pay 105r_paya 105r_rent 105rent 106landlordRent: 小地主出租給付 106landlordRetire: 小地主離農獎勵 106tenantFallowRent: 租用農地改善補貼 106tenantList: 承租人資料 106tenantTransfer: 大專業農轉契作補貼 raw_105rent raw_106landlordRent raw_106landlordRetire raw_106tenantList raw_106tenantFallowRent raw_106tenantTransfer 7.3 資料處理過程 "],
["section-8.html", "8 參照資料庫 8.1 內政部地政司全國段代碼整合 8.2 休耕轉作補貼 - 作物代碼表", " 8 參照資料庫 這邊放的都是參照資料庫，包含有 內政部地政司全國段代碼表整合 休耕轉作補貼作物代碼表 8.1 內政部地政司全國段代碼整合 背景說明 地段地號的資料格式為14或15碼的英數組合，組合方式為6或7碼的地段代碼 + 8碼的地號代碼，農委會資訊中心已統一將6+8碼的地段地號格式定為標準的資料交換格式，但是部分單位提供的地段地號資料為7+8碼的組合，因此需要一個對照表能將6+8與7+8的代碼互相轉換。 本資料庫用於製作全國段代碼表，可用於段代碼6碼與7碼間的轉換，亦可用於段代碼與縣市鄉鎮之碰檔 製作方式 連線至內政部地政司土地段名查詢系統。 下載段名代碼表與縣市及鄉鎮市區代碼表快速下載，選擇全國與csv檔，並更名為全國段名代碼表_西元年.csv與全國縣市及鄉鎮市區代碼表_西元年.csv。 截圖 新增欄位地段：將段名代碼表的“段” + “小段”並以“-”相連，需注意若小段為空則只要保存“段” 新增所區碼：將全國縣市鄉鎮市區代碼表的事務所代碼+補到2位數的鄉鎮市區代碼(1→01, 2→02, 13→13) 使用所區碼結合段名.csv與鄉鎮市區.csv 新增6碼段代碼：所區碼前兩碼+補到4位數的代碼(1→0001, 11→0011, 111→0111) 新增7碼段代碼：縣市代碼+鄉鎮代碼+補到4位數的代碼(1→0001, 11→0011, 111→0111) 新增最後更新日期：製作更新之當天 欄位更名：段→大段 輸出並匯入資料庫 另有使用python介接國土測繪中心API的方式，請參閱 這裡 處理流程 rm(list=ls()) library(stringr) library(lubridate) setwd(&quot;D:\\\\sw\\\\00-整合資料庫\\\\00-整合資料庫\\\\10全國段代碼(內政部地政司)&quot;) code_list &lt;- read.csv(paste0(&quot;全國段名代碼表_&quot;, year(Sys.Date()), &quot;.csv&quot;), header=T, stringsAsFactors=F) country_list &lt;- read.csv(paste0(&quot;全國縣市鄉鎮市區代碼表_&quot;, year(Sys.Date()), &quot;.csv&quot;), header=T, stringsAsFactors=F) code_list$縣市代碼 &lt;- substr(code_list$所區碼, 1, 1) # code_list$縣市 &lt;- country_list$縣市名稱[match(code_list$縣市代碼, country_list$縣市代碼)] code_list$鄉鎮代碼 &lt;- substr(code_list$所區碼, 3,4) code_list$地段 &lt;- ifelse(code_list$小段==&quot;&quot;, code_list$地段 &lt;- code_list$段, code_list$地段 &lt;- paste(code_list$段, code_list$小段, sep=&quot;-&quot;)) #Use所區碼 to merge two table, then get the 鄉鎮市區---- country_list$所區碼 &lt;- paste0(country_list$事務所代碼, str_sub(paste0(&quot;0&quot;, country_list$鄉鎮市區代碼), -2, -1)) code_list$鄉鎮市區 &lt;- country_list$鄉鎮市區名稱[match(code_list$所區碼, country_list$所區碼)] #Use所區碼 to merge two table, then get the 鄉鎮市區 code_list$段代碼_6 &lt;- paste0(substr(code_list$所區碼, 1,2), str_sub(paste0(&quot;000&quot;, code_list$代碼), -4, -1)) code_list$段代碼_7 &lt;- paste0(code_list$縣市代碼, code_list$鄉鎮代碼, substr(code_list$段代碼_6, 3, 6)) code_list$最後更新日期 &lt;- Sys.Date() code_list &lt;- code_list[,c(&quot;縣市&quot;, &quot;縣市代碼&quot;, &quot;鄉鎮市區&quot;, &quot;鄉鎮代碼&quot;, &quot;地段&quot;, &quot;段&quot;, &quot;小段&quot;, &quot;代碼&quot;, &quot;所區碼&quot;, &quot;段代碼_6&quot;, &quot;段代碼_7&quot;, &quot;備註&quot;, &quot;最後更新日期&quot;)] #rearrange column names(code_list) &lt;- c(&quot;縣市&quot;, &quot;縣市代碼&quot;, &quot;鄉鎮市區&quot;, , &quot;鄉鎮代碼&quot;, &quot;地段&quot;, &quot;大段&quot;, &quot;小段&quot;, &quot;代碼&quot;, &quot;所區碼&quot;, &quot;段代碼6碼&quot;, &quot;段代碼7碼&quot;, &quot;備註&quot;, &quot;最後更新日期&quot;) write.csv(code_list, &quot;106整合全國地段代碼表.csv&quot;, row.names=F, quote=F) # output to [ReferenceDB].[dbo].[106_landCode] 結果 8.2 休耕轉作補貼 - 作物代碼表 背景說明 *製作包含作物代碼(細項)、作物中文(細項)、作物代碼(大類)、作物中文(大類)的對照表 製作方式 索取農糧代碼對照表_20180424(楊老師提供).xlsx：每年向楊老師索取休耕轉作補貼清冊後，一併索取，檔案位置請點我。 檔案欄位 cdtyp cdno cdexp cdexp2 各種代碼 作物代碼(細項3碼) 作物中文(細項) 作物代碼(大類1碼) 各種代碼說明 各種代碼 定義 01 縣市碼 02 縣市鄉鎮碼 05 7碼地段碼 08 作物代碼 使用補助作物種類.xlsx：檔案位置請點我。 檔案欄位： 作物代碼(大類1碼) 作物中文(大類) 把1與2結合，產出106作物代碼表.xlsx，檔案請點我。 結果 cdtyp codeSmall nameSmall codeBig nameBig update 作物代碼 作物代碼(細項3碼) 作物中文(細項) 作物代碼(大類1碼) 作物中文(大類) 製表日期 "]
]
