# 小地主大專業農 (small & big)
***

## 背景說明
* 資料庫設置目的


* 小地主大專業農，包含有5張表：
    + 承租人資料
    + 大佃農轉氣作補貼
    + 小地主出租給付
    + 小地主離農獎勵
    + 租用農地改善補貼
    
* 資料格式：`年分+新資料表名稱`

舊資料表名稱(英文) | 新資料表名稱(英文) | 資料表中文        | 資料表定義
------------------|------------------|------------------|--------------------------------------
rent              | tenantList       | 承租人資料        | 承租人資料
r_farm_temp       | tenantTransfer   | 大佃農轉契作補貼   | 給佃農的轉契作補貼
r_pay             | landlordRent     | 小地主出租給付     | 給地主的出租給付
r_paya            | landlordRetire   | 離農獎勵          | 給地主的離農獎勵
r_rent            | tenantFallowRent | 租用農地改善補貼   | 給佃農的租用連續休耕地改善補貼

* 聯絡窗口：農糧署張乃文技正。
* 資料索取：逢甲楊老師。

## 資料欄位
* 檔案位置：`Z:\03-調查統計科\001_農業統計整合資料庫\001_農業統計整合資料庫\01--休耕、耕鋤、災害\原始資料\小大\`。

### 歷年schema

`承租人資料(tenantList)`

欄位-中文      | 欄位-英文  | 欄位屬性       | 定義
---------------|------------|----------------|-----------
承租人姓名     | appName    |  | 
通訊地址       | pstadr     |  |
聯絡電話       | psttel     |  |
戶籍地址       | prmadr     |  |
檔號           | pstno      |  |
承租人證號     | appID      |  |
地段代碼       | lndNo7     |  |
地號           | lndNo8     |  |
所有權人證號   | ownerID    |  |
承租面積       | rarea      |  | 公頃
租期           | ryear      |  | 
證號           | eid        |  | 
租金/年        | rprice     |  | 
一期契約種類   | choice     |  | 
申報一期作物   | dcl_chgcd1 |  | 
核定一期作物   | chgcd1     |  | 
二期契約種類   | choice2    |  | 
申報二期作物   | dcl_chgcd2 |  | 
核定二期作物   | chgcd11    |  | 
合格/不合格    | pass       |  | 
年度           | syy        |  | 
期別           | spp        |  | 
開始年期       | yypp       |  | 
所有權人姓名   | ownerName  |  | 
所有權人地址   | ritadr     |  | 
承租人生日     | birthday   |  | 
土地使用分區   | lndhow     |  | 田、林、建、牧、河...等
使用地類別     | lndtype    |  | 

### 資料庫清單

- 一大堆

## 資料處理過程

1. R套件匯入
```{r , eval=FALSE}
setwd("Z:\\03-調查統計科\\001_農業統計整合資料庫\\001_農業統計整合資料庫\\01--休耕、耕鋤、災害\\原始資料\\航照稻作圖資轉文字檔\\106年")
library(tidyverse)
library(readxl) # under tidyverse.
library(prettydoc) # for beautiful markdown doc.
```

2. 資料處理
```{r , eval=FALSE}
p1 <- read_excel("1061rice_文數字.xlsx") # import first period data.
p2 <- read_excel("1062rice_文數字.xlsx") # import second period data.
pf <- rbind(p1, p2) # combine the 2 period data.
names(pf) <- c("AREA", "RICE_CODE", "MOI_CODE", "LNDNO5", "LNDNO4", "RICD", "landNo", "PIC_NO", "SYY", "SPP") # follow the schema.
write.table(pf, "raw_RICE106.txt", sep=",", row.names=F, quote=FALSE) # import into SQL(aerial_graphic.dbo.raw_RICE106)
```
